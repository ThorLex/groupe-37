const nodemailer = require('nodemailer');const path = require('path');const fs = require('fs');const transporter = nodemailer.createTransport({  host: process.env.EMAIL_HOST,  port: process.env.EMAIL_PORT,  secure: process.env.EMAIL_SECURE === 'true', // true for 465, false for other ports  auth: {    user: process.env.EMAIL_USER,    pass: process.env.EMAIL_PASS,  },});const sendEmail = async (to, subject, templateName, context) => {  try {    const templatePath = path.join(__dirname, '..', 'templates', `${templateName}.html`);    let htmlContent = fs.readFileSync(templatePath, 'utf8');    // Remplacer les placeholders dans le template    for (const key in context) {      htmlContent = htmlContent.replace(new RegExp(`{{${key}}}`, 'g'), context[key]);    }    const mailOptions = {      from: process.env.EMAIL_FROM,      to,      subject,      html: htmlContent,    };    await transporter.sendMail(mailOptions);    console.log(`Email sent to ${to} with subject: ${subject}`);  } catch (error) {    console.error(`Error sending email to ${to}:`, error);  }};module.exports = { sendEmail };